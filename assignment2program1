#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>

struct date
{
  char day[2], month[2], year[4];
};

char* splitString(char str[], int start, int len)
{
  int i,j=0;
  char data[len];
  char *ptr = str;
  char *p = data;
  // for(i=0; (i+1)<=len; i++)
  //   {
  //   //   strcpy(data[j] , str[start + i]);
  //     data[j] = str[start+i];
  //     j++;
  //   }
  // // j--;
  // data[j] = '\n';

  // printf("\n%s\n", data);
  for(i=0; i<len; i++)
    {
      data[i] = ptr[i+start];
    }
  data[i] = '\n';
  return data;
}


char* substring(char s[], char sub[], int p, int l) {
   int c = 0;
   
   while (c < l) {
      sub[c] = s[p+c-1];
      c++;
   }
   sub[c] = '\0';
   return sub;
}

int main(void) {
  FILE *file = fopen("student.txt", "r");

  if(file == NULL)
  {
    perror("Unable to open file");
    exit(1);
  }

  char line[15];
  
  char ch = fgetc(file);
  int n = ch - '0';

   // Collecting names...........
  char names[n+1][100];
  int i=0;
  while(fscanf(file, "%s %*s", line) == 1)
    {
      // printf("%s \n", line);
      strcpy(names[i], line);
      i = i+1;
    }
  int k = atoi(names[0]);
  for(i=0;i<n+1;i++)
  {
      strcpy(names[i], names[i+1]);
    }
  for(i=0;i<n;i++)
  {
      printf("%s ", names[i]);
  }
  
   // Collecting DOBs......
  char dob[n][100];
  i=0;
  printf("\n");
  FILE *file2 = fopen("student.txt", "r");
   if(file2 == NULL)
  {
    perror("Unable to open file");
    exit(1);
  }


  while(fscanf(file2, "%s %*s", line) == 1)
    {
      // printf("%s \n", line);
      strcpy(dob[i], line);
      i = i+1;
    }

  printf("%d %d\n", k, n);
  for(i=0;i<n;i++)
    {
      strcpy(dob[i], dob[i+1]);
    }

  for(i=0;i<n;i++)
    printf("%s ", dob[i]);
  
  
  // printf("Helklo");
  // splitString("abcxyz", 2, 4);
  // char sub[100];
  // substring(dob[0], sub, 0,2);
  // printf("%s", sub);
  // printf("\n %s", splitString(dob[0], 0, 2));
  printf("\n %s", splitString("jkcuyvcrv", 0, 2));
  
  // int mm = str_cut(dob[0], 2, 4);
  // printf("\n%d",mm);
  // printf("%d", str_cut(dob[i], 0,2));
  struct date d[n];
  for(i=0;i<n;i++)
    {
      strcpy(d[i].day, splitString(dob[0], 0, 2));
      strcpy(d[i].month, splitString(dob[0], 2, 2));
      strcpy(d[i].year, splitString(dob[0], 4, 4));
    }
  printf("\n");
  printf("%s", splitString(dob[i], 0, 2));
  printf("\n");
  
  for(i=0;i<n;i++)
    {
      printf("\n %s", d[i].day);
       printf(" %s", d[i].month);
       printf(" %s", d[i].year);
    }

  fclose(file);
  fclose(file2);
  return 0;
}
