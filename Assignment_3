#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main(void) {
  FILE *file = fopen("input2.txt", "r");

  if (file == NULL) {
    perror("Unable to open file");
    exit(1);
  }

  char line[100];
  int n, i,j;
  fscanf(file, "%d\n", &n);
  printf(" %d\n", n);
  // fgets(line, 100, file);
  // program variables
  int A[n];
  int B;
  int F[n][n], G[n+1][n+1], P[n];
   for(i=0;i<n;i++)
    {
      for(j=0;j<n;j++)
        {
          F[i][j] = 0;
        }
    }

  char *token;
  int flag1=0, flag2=0, k =0;
  int size = 0;
  for(i=1;i<=n;i++)
    {
      size+=i;
    }
  size*=2;
  // size += 2*n;
  int arr[size];
  printf("\n%d\n", size);

  for(i=0, j=0;i<n;i++)
    {
      fgets(line, 100, file);
      // fscanf(file, "%[^,]s", line);
      // printf("\n%s\n",line);
      token = strtok(line, ",");

      while (token != NULL) {
      // printf("\n%d", atoi(token));
        
          // arr[j++] = atoi(token);
        
        if(flag1 == 0)
        {
          A[i] = atoi(token);
          flag1=1;
        }
        else if(flag2 == 0)
        {
          P[i] = atoi(token);
          flag2=1;
        }
        else{
          arr[j++] = atoi(token);
          // if(k<(i+1))
          // {
          //   F[i][k+1] = atoi(token);
          //   G[k][i+1] = atoi(token);
          //   k++;
          // }
        }
        
        token = strtok(NULL, ",");
      }
      flag1=0;
      flag2=0;
    }

  for(i=0;i<size;i++)
    {
      printf(" %d",arr[i]);
    }

  // Edit from here....................................
  int x=0,y=1, pass;
  int flag=0, z=0;
  for(i=0, pass=1; i<size; i++, pass++)
    {
      if(flag == 0 && z < pass)
      {
        F[x][y] = arr[i];
        z++;
        if(z == pass)
        {
          flag=1;
          z=0;
        }
      }
      else if(flag==1 && z < pass)
      {
        G[x][y] = arr[i];
        z++;
        if(z == pass)
        {
          flag=0;
          z=0;
        }
      }
      
    }
  // Till here...........................................

  printf("\n");
  for(i=0;i<n;i++)
    {
      for(j=0;j<n;j++)
        {
          printf(" %d", F[i][j]);
        }
      printf("\n");
    }
  // printf("\nA values: \n");
  // for(i=0;i<n;i++)
  //   printf(" %d", A[i]);
  // printf("\nP values: \n");
  //  for(i=0;i<n;i++)
  //   printf(" %d", P[i]);


  fclose(file);
  return 0;
}
